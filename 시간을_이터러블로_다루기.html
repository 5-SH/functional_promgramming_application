<script src="./lib/fx.js"></script>

## 시간을 이터러블로 다루기

1. range 와 take 의 재해석
<script>
  const log = console.log;
  _.go(
    _.range(10), // <-- 0 부터 9 까지의 배열
    _.take(3), // <-- 앞에서부터 3개만 자르기
    // _.each(log)
  );

  /**
   * 이터러블을 배열 안의 값을 다루기 위한 유틸 함수로 사용하는 것이 아니라
   * 일련의 로직을 만들기 위한 도구로 사용,
   * 문법을 대체하는 언어로서 사용하고 쓸 수 있다.
   */
  _.go(
    L.range(10), // <-- 0 부터 9 까지의 이터러블, 최대 10번 일어날 일
    L.map(_.delay(1000)),
    L.filter(a => a % 2),
    _.take(3), // <-- 최대 3개의 값을 필요하고, 최대 3번의 일을 수행
    // _.each(log)
  );
</script>

2. takeWhile, takeUntil
<script>
  // console.clear();
  _.go(
    [1, 2, 3, 4, 5, 6, 7, 8, 0, 0, 0],
    L.takeWhile(a => a),
    // _.each(log)
  );

  _.go(
    [1, 2, 3, 4, 5, 6, 7, 8, 0, 0, 0],
    L.takeUntil(a => a),
    // _.each(log)
  );

  _.go(
    [0, false, undefined, null, 10, 20, 30],
    L.takeUntil(a => a),
    // _.each(log)
  );
</script>

3. 할 일들을 이터러블(리스트)로 바라보기
<script>
  const track = [
    { cars: ['철수', '영희', '철희', '영수'] },
    { cars: ['하든', '커리', '듀란트', '탐슨'] },
    { cars: ['폴', '어빙', '릴라드', '맥컬럼'] },
    { cars: ['스파이더맨', '아이언맨'] },
    { cars: [] }
  ];

  _.go(
    L.range(Infinity),
    L.map(i => track[i]),
    L.map(({ cars }) => cars),
    L.map(_.delay(2000)),
    L.takeWhile(({ length: l }) => l === 4),
    L.flat,
    L.map(car => `${car} 출발!`),
    _.each(log)
  );
  
</script>

4. 아임포트 결제 누락 스케줄러 만들기